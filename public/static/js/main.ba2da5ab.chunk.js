(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},144:function(e,t){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(70),o=a.n(s),l=a(1),u=a(2),i=a(3),m=a(5),p=a(4),h=a(6),g=a(23),b=a.n(g),f=new(function(){function e(){Object(u.a)(this,e),this.auth=b.a.create({baseURL:"https://m3-im-in.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/signup",{username:t,password:a}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),d=c.a.createContext(),E=d.Consumer,v=d.Provider,j=function(e){return function(t){function a(){return Object(u.a)(this,a),Object(m.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){var t=this;return c.a.createElement(E,null,(function(a){var n=a.login,r=a.signup,s=a.logout,o=a.user,l=a.isLoggedIn;return c.a.createElement(e,Object.assign({user:o,isLoggedIn:l,login:n,signup:r,logout:s},t.props))}))}}]),a}(r.Component)},O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,user:null,isLoading:!0},a.signup=function(e,t){f.signup({username:e,password:t}).then((function(e){return a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e,t){f.login({username:e,password:t}).then((function(e){return a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){f.logout().then((function(){return a.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedIn,n=e.user,r=this.login,s=this.logout,o=this.signup;return c.a.createElement(v,{value:{isLoading:t,isLoggedIn:a,user:n,login:r,logout:s,signup:o}},this.props.children)}}]),t}(c.a.Component),N=(a(98),a(15)),A=(j(function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLoggedIn;return c.a.createElement("nav",{className:"navbar"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"username: ",t.username)):c.a.createElement(c.a.Fragment,null,c.a.createElement(l.b,{to:"/login"}," ",c.a.createElement("button",{className:"navbar-button"},"Login")," "),c.a.createElement("br",null),c.a.createElement(l.b,{to:"/signup"}," ",c.a.createElement("button",{className:"navbar-button"},"Sign Up")," ")))}}]),t}(r.Component)),a(10)),y=(a(103),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"entire"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"homepage"},"HOMEPAGE"),c.a.createElement("img",{src:"/logoimin.png",alt:"logo",className:"logoheader"})),c.a.createElement("div",null,c.a.createElement(l.b,{to:"/login"}," ",c.a.createElement("button",{className:"buttons"},"Login")," "),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(l.b,{to:"/signup"}," ",c.a.createElement("button",{className:"buttons"},"Sign Up")," ")))}}]),t}(r.Component))),C=(a(104),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.signup(n,r)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return c.a.createElement("div",{className:"entire"},c.a.createElement("h1",{className:"signuptext"},"Sign Up"),c.a.createElement("br",null),c.a.createElement("form",{onSubmit:this.handleFormSubmit},c.a.createElement("br",null),c.a.createElement("label",{className:"userpw"},"Username:"),c.a.createElement("br",null),c.a.createElement("input",{className:"formulari",type:"text",name:"username",value:t,onChange:this.handleChange}),c.a.createElement("br",null),c.a.createElement("label",{className:"userpw"},"Password:"),c.a.createElement("br",null),c.a.createElement("input",{className:"formulari",type:"password",name:"password",value:a,onChange:this.handleChange}),c.a.createElement("br",null),c.a.createElement("input",{type:"submit",value:"Signup",className:"signup-button"})),c.a.createElement("br",null),c.a.createElement("p",{className:"haveaccount"},"Already have account?",c.a.createElement(l.b,{to:"/login",className:"accountLink"}," Login")))}}]),t}(r.Component))),S=(a(105),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return c.a.createElement("div",{className:"entire"},c.a.createElement("img",{src:"/logoimin.png",alt:"logo",className:"logo"}),c.a.createElement("h1",{className:"loginlogo"},"Login"),c.a.createElement("form",{onSubmit:this.handleFormSubmit},c.a.createElement("label",{className:"userpw"},"Username:"),c.a.createElement("br",null),c.a.createElement("input",{className:"login-form",type:"text",name:"username",value:t,onChange:this.handleChange}),c.a.createElement("b",null),c.a.createElement("label",{className:"userpw"},"Password:"),c.a.createElement("br",null),c.a.createElement("input",{className:"login-form",type:"password",name:"password",value:a,onChange:this.handleChange}),c.a.createElement("br",null),c.a.createElement("input",{type:"submit",value:"Login",className:"login-button"})),c.a.createElement("br",null),c.a.createElement("p",{className:"donthaveaccount"},"Don't have an account?",c.a.createElement(l.b,{to:"/signup",className:"notaccountLink"}," Signup")))}}]),t}(r.Component))),k=(a(106),j(function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.logout;return c.a.createElement("div",{className:"entire"},c.a.createElement("br",null),c.a.createElement("div",{className:"welcome"},c.a.createElement("h1",null,"Welcome back,"),c.a.createElement("h2",null,this.props.user.username)),c.a.createElement("br",null),c.a.createElement(l.b,{to:"/groups"}," ",c.a.createElement("button",{className:"buttons"},"Groups")," "),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(l.b,{to:"/create"}," ",c.a.createElement("button",{className:"buttons"},"Create")," "),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(l.b,{to:"/join"}," ",c.a.createElement("button",{className:"buttons"},"Join")," "),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{onClick:e,className:"logout"},"Logout"))}}]),t}(r.Component))),w=new(function(){function e(){Object(u.a)(this,e),this.group=b.a.create({baseURL:"".concat("https://m3-im-in.herokuapp.com","/groups"),withCredentials:!0})}return Object(i.a)(e,[{key:"create",value:function(e){return this.group.post("/create",e).then((function(e){return e.data}))}},{key:"join",value:function(e){return this.group.put("/join",e).then((function(e){return e.data}))}},{key:"getAllGroups",value:function(){return this.group.get("/").then((function(e){return e.data}))}},{key:"getOneGroup",value:function(e){return this.group.get("/".concat(e)).then((function(e){return e.data}))}},{key:"leaveGroup",value:function(e){return this.group.put("/leave/".concat(e)).then((function(e){return e.data}))}},{key:"deleteGroup",value:function(e){return this.group.delete("/delete/".concat(e)).then((function(e){return e.data}))}}]),e}()),L=(a(107),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={groups:[],loading:!0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getAllGroups().then((function(t){t.forEach((function(e){})),e.setState({groups:t,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"entire"},c.a.createElement(l.b,{to:"/private"}," ",c.a.createElement("button",{className:"backbutton"},"Back")," "),c.a.createElement("h2",{className:"h2text"},"Groups"),c.a.createElement("div",null,this.state.loading?null:this.state.groups.map((function(e){return c.a.createElement("div",{className:"groupschart"},c.a.createElement(l.b,{to:"/groups/".concat(e._id)},c.a.createElement("h4",{className:"element-name"},e.name)))}))))}}]),t}(r.Component))),x=(a(108),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",duration:"",maxParticipants:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.description,c=t.duration,s=t.maxParticipants;w.create({name:n,description:r,duration:c,maxParticipants:s}).then((function(e){a.props.history.push("/groups/".concat(e._id))})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"entire"},c.a.createElement(l.b,{to:"/private"}," ",c.a.createElement("button",{className:"backbuttonX"},"Back")," "),c.a.createElement("h1",{className:"createtitle"},"Create a group"),c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"form"},c.a.createElement("label",{className:"form-titles"},"Group name:"),c.a.createElement("input",{className:"cells",type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),c.a.createElement("label",{className:"form-titles"},"Description:"),c.a.createElement("input",{className:"cells",type:"text",name:"description",value:this.state.description,onChange:this.handleChange}),c.a.createElement("label",{className:"form-titles"},"Duration:"),c.a.createElement("input",{className:"cells",type:"number",name:"duration",value:this.state.duration,onChange:this.handleChange}),c.a.createElement("label",{className:"form-titles"},"Max Participants:"),c.a.createElement("input",{className:"cells",type:"number",name:"maxParticipants",value:this.state.maxParticipants,onChange:this.handleChange})),c.a.createElement("button",{type:"submit",className:"createbuttons"},"Create group")))}}]),t}(r.Component))),I=(a(109),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={groupid:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.groupid;w.join({groupid:t}).then((function(){a.props.history.push("/groups/".concat(t))})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"entire"},c.a.createElement(l.b,{to:"/private"}," ",c.a.createElement("button",{className:"backbutton"},"Back")," "),c.a.createElement("div",{className:"form"},c.a.createElement("h1",{className:"title"},"Join ",this.props.user.username),c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("label",null,"Insert code here:"),c.a.createElement("br",null),c.a.createElement("input",{className:"field",type:"text",name:"groupid",value:this.state.groupid,onChange:this.handleChange}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",className:"joinbutton"},"Join group"))))}}]),t}(r.Component))),D=a(76),G=a(16),U=(a(110),a(73)),M=a.n(U),B=a(74),P=a.n(B),R=(a(180),a(40)),F=a.n(R),J=function(e){var t=e.message,a=t.text,n=t.user,r=!1,s=e.username.trim().toLowerCase();return n===s&&(r=!0),r?c.a.createElement("div",{className:"messageContainer justifyEnd"},c.a.createElement("p",{className:"sentText pr-10"},s),c.a.createElement("div",{className:"messageBox backgroundBlue"},c.a.createElement("p",{className:"messageText colorWhite"},F.a.emojify(a)))):c.a.createElement("div",{className:"messageContainer justifyStart"},c.a.createElement("div",{className:"messageBox backgroundLight"},c.a.createElement("p",{className:"messageText colorDark"},F.a.emojify(a))),c.a.createElement("p",{className:"sentText pl-10 "},n))},Q=(a(181),function(e){var t=e.messages,a=e.username;return c.a.createElement(P.a,{className:"messages"},t.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(J,{message:e,username:a}))})))}),Y=a(75),K=a.n(Y),T=(a(182),a(183),function(e){var t=e.room;return c.a.createElement("div",{className:"infoBar"},c.a.createElement("div",{className:"leftInnerContainer"},c.a.createElement("img",{className:"onlineIcon",src:K.a,alt:"online icon"}),c.a.createElement("h3",null,t)))}),W=(a(184),function(e){var t=e.setMessage,a=e.sendMessage,n=e.message;return c.a.createElement("form",{className:"form"},c.a.createElement("input",{className:"input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){var a=e.target.value;return t(a)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),c.a.createElement("button",{className:"sendButton",onClick:function(e){return a(e)}},"Send"))}),V=(a(185),Object(N.g)((function(e){var t=Object(r.useState)(""),a=Object(G.a)(t,2),s=a[0],o=a[1],l=Object(r.useState)(""),u=Object(G.a)(l,2),i=u[0],m=u[1],p=Object(r.useState)(""),h=Object(G.a)(p,2),g=h[0],b=h[1],f=Object(r.useState)([]),d=Object(G.a)(f,2),E=d[0],v=d[1];Object(r.useEffect)((function(){var t=e.username,a=e.room;n=M()("http://localhost:5000"),m(a),o(t),n.emit("join",{username:t,room:a},(function(e){e&&alert(e)}))}),["http://localhost:5000",e.location.search]),Object(r.useEffect)((function(){return n.on("message",(function(e){console.log("newMessage empty?",e);var t=[].concat(Object(D.a)(E),[e]);v(t)})),function(){n.emit("disconnect"),n.off()}}),[E]);return c.a.createElement("div",null,c.a.createElement("div",{className:""},c.a.createElement(T,{room:i}),c.a.createElement(Q,{className:"loqsea",messages:E,username:s}),c.a.createElement(W,{message:g,setMessage:b,sendMessage:function(e){e.preventDefault(),console.log("message",g),g&&n.emit("sendMessage",g,(function(){return b("")}))}})))}))),X=(a(186),j(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={group:null,isLoading:!0},a.handleSubmit=function(e){e.preventDefault();var t=a.state.group._id;w.leaveGroup(t).then((function(){a.props.history.push("/groups")})).catch((function(e){return console.log(e)}))},a.handleDelete=function(e){e.preventDefault();var t=a.state.group._id;w.deleteGroup(t).then((function(){a.props.history.push("/groups")})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;w.getOneGroup(t).then((function(t){console.log(t),e.setState({group:t,isLoading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.isLoading?null:c.a.createElement("div",{className:"entire"},c.a.createElement(l.b,{to:"/private"}," ",c.a.createElement("button",Object(A.a)({className:"private"},"className","backbuttonG"),"Back")," "),c.a.createElement("h3",{className:"groupname"}," ",this.state.group.name),c.a.createElement("p",{className:"description"},this.state.group.description),c.a.createElement("h3",{className:"participantsTitle"},"Participants")," ",this.state.group.participants.map((function(e){return c.a.createElement("p",{className:"participants"},"- ",e.username)})),c.a.createElement(V,{username:this.props.user.username,room:this.state.group.name}),c.a.createElement("div",{className:"lastbuttons"},c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("button",{type:"submit",className:"leavegroup"},"Leave group")),this.props.user._id==this.state.group.creator?c.a.createElement("form",{onSubmit:this.handleDelete},c.a.createElement("button",{type:"submit",className:"deletebtn"},"Delete group")):null))}}]),t}(r.Component)));a(187);var q=a(24);var Z=j((function(e){var t=e.component,a=e.isLoggedIn,n=Object(q.a)(e,["component","isLoggedIn"]);return(c.a.createElement(N.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(N.a,{to:"/private"}):a?void 0:c.a.createElement(t,e)}})))}));var _=j((function(e){var t=e.component,a=e.isLoggedIn,n=Object(q.a)(e,["component","isLoggedIn"]);return c.a.createElement(N.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(t,e):a?void 0:c.a.createElement(N.a,{to:"/login"})}}))})),z=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(N.d,null,c.a.createElement(N.b,{exact:!0,path:"/",component:y}),c.a.createElement(Z,{exact:!0,path:"/signup",component:C}),c.a.createElement(Z,{exact:!0,path:"/login",component:S}),c.a.createElement(_,{exact:!0,path:"/private",component:k}),c.a.createElement(_,{exact:!0,path:"/groups",component:L}),c.a.createElement(_,{exact:!0,path:"/create",component:x}),c.a.createElement(_,{exact:!0,path:"/join",component:I}),c.a.createElement(_,{exact:!0,path:"/groups/:id",component:X})))}}]),t}(r.Component);o.a.render(c.a.createElement(l.a,null,c.a.createElement(O,null,c.a.createElement(z,null))),document.getElementById("root"))},75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="},77:function(e,t,a){e.exports=a(188)},98:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.ba2da5ab.chunk.js.map